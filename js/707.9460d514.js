"use strict";(self["webpackChunkjx3_tool"]=self["webpackChunkjx3_tool"]||[]).push([[707],{707:function(t,e,i){i.r(e),i.d(e,{default:function(){return x}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-row fame"},[e("div",{staticClass:"timeline"},[e("TimeLine",{attrs:{time:t.currentTime,stage:t.currentStage}})],1),e("div",{staticClass:"map"},[e("Map",{attrs:{time:t.currentTime,stage:t.currentStage}})],1)])},s=[],n=i(7484),o=i.n(n),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-container"},[e("div",{staticClass:"toolbox flex-row flex-between"},[e("div",{staticClass:"currentTitle"},[t._v(" 当前阶段:"),e("span",{staticClass:"currentName"},[t._v(t._s(t.currentStageTitle))])]),e("div",{staticClass:"mapName"},[t._v(" "+t._s(t.stage.title)+" ")]),e("div",{staticClass:"nextTitle"},[t._v(" 下一阶段:"),e("span",{staticClass:"nextName"},[t._v(t._s(t.nextStageTitle))])])]),e("div",{staticClass:"map",style:{background:"url("+t.stage.url+") no-repeat",backgroundPositionX:"center"}}),e("span",{staticClass:"dot",staticStyle:{position:"absolute"},attrs:{id:t.currentStageTitle}}),2!=t.nextStageTitle.split("/").length?e("span",{staticClass:"nextDot",staticStyle:{position:"absolute"},attrs:{id:t.nextStageTitle}}):t._e()])},m=[],r=JSON.parse('{"title":"楚天社","desc":"名望公共任务","odd":{"title":"单数时间点阶段","desc":"百溪(整)、楚州(半)","zero":{"title":"百溪","url":"https://s2.loli.net/2022/12/10/UmetOT8SyQZcRzA.png","desc":"单数小时,每整点进行","stages":[{"time":"00","position":"黄崎港北","name":"商家劫难"},{"time":"04","position":"镇海阁东北","name":"保护庄稼"},{"time":"08","position":"镇海阁东","name":"祈送吉船"},{"time":"11","position":"黄崎港北","name":"再次商家劫难"},{"time":"14","position":"孙氏船厂东南","name":"村长请求"},{"time":"22","position":"流木村","name":"阻止借贷"},{"time":"26","position":"斧斤帮","name":"拯救村民"},{"time":"29","position":"斧斤帮","name":"强敌来阻"}]},"half":{"title":"楚州","url":"https://s2.loli.net/2022/12/10/qjx3lHpatF2I4SX.png","desc":"单数小时,每半点进行","stages":[{"time":"30","position":"山阳村","name":"援护山阳"},{"time":"35","position":"末口镇","name":"保卫难民"},{"time":"38","position":"南辕镇","name":"为民除害"},{"time":"40","position":"盐场西","name":"护送盐车"},{"time":"45","position":"南辕镇北","name":"南辕恶霸"},{"time":"50","position":"永宁寺西","name":"稀世珍宝"},{"time":"54","position":"平陵丘西","name":"闯入大营"}]}},"even":{"title":"双数时间点阶段","desc":"烂柯山(整)晟江(半)","zero":{"title":"烂柯山","url":"https://s2.loli.net/2022/12/10/a79gsqcUAdeZiY3.png","desc":"双数小时,每整点进行","stages":[{"time":"00","position":"溪明镇","name":"点燃烟花"},{"time":"03","position":"溪明镇","name":"保护花灯"},{"time":"06","position":"溪明镇","name":"击退黄仁笑"},{"time":"10","position":"凌天寺","name":"再战凌天"},{"time":"14","position":"蚩首山鬼市","name":"醉酒闹事"},{"time":"17","position":"凌天寺东","name":"帮助安济坊"},{"time":"20","position":"凌天寺东","name":"击败镜栖"},{"time":"22","position":"溪明镇西","name":"安抚工人"},{"time":"26","position":"溪明镇西","name":"物归原主"},{"time":"29","position":"溪明镇西","name":"卜家工头"}]},"half":{"title":"晟江","url":"https://s2.loli.net/2022/12/10/ry6b9RSpBNdo75k.png","desc":"双数小时,每半点进行","stages":[{"time":"30","position":"黄槲镇","name":"檐上君子"},{"time":"34","position":"白菰里","name":"击退林司豪"},{"time":"38","position":"白菰里","name":"击退黄七"},{"time":"42","position":"白菰里","name":"护送镖车"},{"time":"48","position":"正觉寺","name":"鱼目混珠"},{"time":"52","position":"白菰里","name":"再次击退林司豪"},{"time":"56","position":"白菰里","name":"再次击退黄七"}]}}}'),p={props:{stage:{type:Object,default:()=>{}},time:{type:Number,default:()=>0}},data(){return{fameData:r,currentStageTitle:"",nextStageTitle:""}},watch:{time:{handler(){this.getTitle()},immediate:!0}},methods:{getTitle(){let t=o()().hour()%2?"odd":"even",e=o()().minute()<30?"zero":"half",i=this.stage.stages.filter((t=>{if(o()().minute()>=t.time)return t}));this.currentStageTitle=i[i.length-1].name,this.stage.stages.length>i.length?this.nextStageTitle=this.stage.stages[i.length].name:this.nextStageTitle="zero"==e?this.fameData[`${t}`].half.title+"/"+this.fameData[`${t}`].half.stages[0].position:"odd"==t?this.fameData.even.zero.title+"/"+this.fameData.even.zero.stages[0].position:this.fameData.odd.zero.title+"/"+this.fameData.odd.zero.stages[0].position}}},c=p,u=i(1001),d=(0,u.Z)(c,l,m,!1,null,"0e84a6c8",null),g=d.exports,h=function(){var t=this,e=t._self._c;return e("el-card",{attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(t.stage.title))]),e("span",{staticClass:"mgl10"},[t._v(t._s(t._f("dateToString")(t.time,"time")))])]),e("el-timeline",t._l(t.stage.stages,(function(i,a){return e("el-timeline-item",{key:a,attrs:{color:t.dayjs().minute()>=i.time?"#0bbd87":""}},[e("div",{style:t.dayjs().minute()>=i.time?"color:#0bbd87":""},[e("copyable",{attrs:{value:i.name}}),e("div",{staticClass:"mgt10"},[t._v(t._s(t.dayjs().hour())+":"+t._s(i.time))])],1)])})),1),e("div",{staticClass:"statistic"},[e("span",{staticClass:"already"},[t._v(t._s(t.alreadyDone.length))]),e("span",[t._v(" / ")]),e("span",[t._v(t._s(t.stage.stages.length))])])],1)},f=[],v={name:"FameTimeLine",props:{stage:{type:Object,default:()=>{}},time:{type:Number,default:()=>0}},watch:{time:{handler(t){let e=this.stage.stages.map((t=>Number(t.time)));this.alreadyDone=e.filter((e=>e<=o()(t).minute()))},immediate:!0}},data(){return{dayjs:o(),alreadyDone:[]}},methods:{}},_=v,S=(0,u.Z)(_,h,f,!1,null,"ecd474ec",null),T=S.exports,C={components:{Map:g,TimeLine:T},data(){return{fameData:r,timer:null,currentStage:{},currentTime:void 0}},created(){this.getCurrentStage(),this.currentTime=o()().valueOf()},mounted(){clearInterval(this.timer),this.timer=setInterval((()=>{this.getCurrentStage()}),1e3)},beforeDestroy(){clearInterval(this.timer)},methods:{getCurrentStage(){let t=o()().hour()%2?"odd":"even",e=o()().minute()<30?"zero":"half";this.currentTime=o()().valueOf(),this.currentStage=this.fameData[`${t}`][`${e}`]}}},b=C,y=(0,u.Z)(b,a,s,!1,null,"78329b8a",null),x=y.exports}}]);